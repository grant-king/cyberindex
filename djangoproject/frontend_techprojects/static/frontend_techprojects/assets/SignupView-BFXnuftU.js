import{r as a,o as u,c as f,a as e,w as l,v as r,j as p,f as w}from"./index-BfBjKBAA.js";const g={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8 bg-white/50"},b={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},x={class:"space-y-6",action:"#",method:"POST"},h={class:"mt-2"},v={class:"mt-2"},_="https://myctpmedia.blob.core.windows.net/default/avatars/f8d909803de8b75b0972436093b8e5be67d3c2d3f8a09106674398dd6df98b37.webp",y={__name:"Signup",setup(d){const o=a(""),i=a(""),c=window.location.origin;async function m(){const n={email:o.value,password:i.value},t=await fetch(`${c}/register/`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":window.csrf_token},body:JSON.stringify(n)}),s=await t.json();console.log(s),t.status===200?p.push({name:"onboarding"}):s.message=="UNIQUE constraint failed: auth_user.username"?alert(`There is already an account registered for the email ${o.value}. Please contact support@unrolla.com if you need assistance.`):alert(`Error: ${s.message}`)}return(n,t)=>(u(),f("div",g,[e("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[e("img",{class:"mx-auto h-40 w-auto",src:_,alt:"Logo"}),t[3]||(t[3]=e("h2",{class:"mt-20 text-center text-2xl/9 font-bold tracking-tight text-white"},"Register a new Sponsor account",-1))]),e("div",b,[e("form",x,[e("div",null,[t[4]||(t[4]=e("label",{for:"email",class:"block text-sm/6 font-medium text-white"},"Email address",-1)),e("div",h,[l(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.value=s),autocomplete:"email",class:"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm/6"},null,512),[[r,o.value]])])]),e("div",null,[t[5]||(t[5]=e("div",{class:"flex items-center justify-between"},[e("label",{for:"password",class:"block text-sm/6 font-medium text-white"},"New Password")],-1)),e("div",v,[l(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>i.value=s),type:"password",autocomplete:"new-password",required:"",class:"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm/6"},null,512),[[r,i.value]])])]),e("div",null,[e("button",{type:"button",onClick:t[2]||(t[2]=s=>m()),class:"flex w-full justify-center rounded-md hover:text-black/80 hover:bg-white/60 bg-white/40 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500"},"Initialize Sponsorship Account")])])])]))}},S={__name:"SignupView",setup(d){return(o,i)=>(u(),w(y))}};export{S as default};
